{"remainingRequest":"D:\\devel\\ChatTest\\chat-test\\node_modules\\babel-loader\\lib\\index.js!D:\\devel\\ChatTest\\chat-test\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\devel\\ChatTest\\chat-test\\src\\store\\websocket.js","dependencies":[{"path":"D:\\devel\\ChatTest\\chat-test\\src\\store\\websocket.js","mtime":1617893997735},{"path":"D:\\devel\\ChatTest\\chat-test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\devel\\ChatTest\\chat-test\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\devel\\ChatTest\\chat-test\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7ClZ1ZS51c2UoVnVleCk7CmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogewogICAgc29ja2V0OiB7CiAgICAgIGlzQ29ubmVjdGVkOiBmYWxzZSwKICAgICAgbWVzc2FnZTogJycsCiAgICAgIHJlY29ubmVjdEVycm9yOiBmYWxzZQogICAgfSwKICAgIGhpc3Rvcnk6IFtdCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIFNPQ0tFVF9PTk9QRU46IGZ1bmN0aW9uIFNPQ0tFVF9PTk9QRU4oc3RhdGUsIGV2ZW50KSB7CiAgICAgIFZ1ZS5wcm90b3R5cGUuJHNvY2tldCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7CiAgICAgIHN0YXRlLnNvY2tldC5pc0Nvbm5lY3RlZCA9IHRydWU7CiAgICB9LAogICAgU09DS0VUX09OQ0xPU0U6IGZ1bmN0aW9uIFNPQ0tFVF9PTkNMT1NFKHN0YXRlLCBldmVudCkgewogICAgICBldmVudDsKICAgICAgc3RhdGUuc29ja2V0LmlzQ29ubmVjdGVkID0gZmFsc2U7CiAgICB9LAogICAgU09DS0VUX09ORVJST1I6IGZ1bmN0aW9uIFNPQ0tFVF9PTkVSUk9SKHN0YXRlLCBldmVudCkgewogICAgICBjb25zb2xlLmVycm9yKHN0YXRlLCBldmVudCk7CiAgICB9LAogICAgLy8gZGVmYXVsdCBoYW5kbGVyIGNhbGxlZCBmb3IgYWxsIG1ldGhvZHMKICAgIFNPQ0tFVF9PTk1FU1NBR0U6IGZ1bmN0aW9uIFNPQ0tFVF9PTk1FU1NBR0Uoc3RhdGUsIG1lc3NhZ2UpIHsKICAgICAgc3RhdGUuc29ja2V0Lm1lc3NhZ2UgPSBtZXNzYWdlOwogICAgICBzdGF0ZS5oaXN0b3J5LnB1c2goewogICAgICAgIGlzT3duTWVzc2FnZTogZmFsc2UsCiAgICAgICAgYXV0aG9yOiBtZXNzYWdlLm5hbWUsCiAgICAgICAgdGV4dDogbWVzc2FnZS5tZXNzYWdlLAogICAgICAgIGRhdGU6IG5ldyBEYXRlKCkKICAgICAgfSk7CiAgICB9LAogICAgLy8gbXV0YXRpb25zIGZvciByZWNvbm5lY3QgbWV0aG9kcwogICAgU09DS0VUX1JFQ09OTkVDVDogZnVuY3Rpb24gU09DS0VUX1JFQ09OTkVDVChzdGF0ZSwgY291bnQpIHsKICAgICAgY29uc29sZS5pbmZvKHN0YXRlLCBjb3VudCk7CiAgICB9LAogICAgU09DS0VUX1JFQ09OTkVDVF9FUlJPUjogZnVuY3Rpb24gU09DS0VUX1JFQ09OTkVDVF9FUlJPUihzdGF0ZSkgewogICAgICBzdGF0ZS5zb2NrZXQucmVjb25uZWN0RXJyb3IgPSB0cnVlOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgc2VuZE1lc3NhZ2U6IGZ1bmN0aW9uIHNlbmRNZXNzYWdlKGNvbnRleHQsIG1lc3NhZ2UpIHsKICAgICAgVnVlLnByb3RvdHlwZS4kc29ja2V0LnNlbmQobWVzc2FnZSk7CiAgICAgIGNvbnRleHQuc3RhdGUuaGlzdG9yeS5wdXNoKHsKICAgICAgICBpc093bk1lc3NhZ2U6IHRydWUsCiAgICAgICAgYXV0aG9yOiBtZXNzYWdlLm5hbWUsCiAgICAgICAgdGV4dDogbWVzc2FnZS5tZXNzYWdlLAogICAgICAgIGRhdGU6IG5ldyBEYXRlKCkKICAgICAgfSk7CiAgICB9CiAgfQp9KTs="},{"version":3,"sources":["D:/devel/ChatTest/chat-test/src/store/websocket.js"],"names":["Vue","Vuex","use","Store","state","socket","isConnected","message","reconnectError","history","mutations","SOCKET_ONOPEN","event","prototype","$socket","currentTarget","SOCKET_ONCLOSE","SOCKET_ONERROR","console","error","SOCKET_ONMESSAGE","push","isOwnMessage","author","name","text","date","Date","SOCKET_RECONNECT","count","info","SOCKET_RECONNECT_ERROR","actions","sendMessage","context","send"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AAEAD,GAAG,CAACE,GAAJ,CAAQD,IAAR;AAEA,eAAe,IAAIA,IAAI,CAACE,KAAT,CAAe;AAC5BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,MAAM,EAAE;AACNC,MAAAA,WAAW,EAAE,KADP;AAENC,MAAAA,OAAO,EAAE,EAFH;AAGNC,MAAAA,cAAc,EAAE;AAHV,KADH;AAMLC,IAAAA,OAAO,EAAE;AANJ,GADqB;AAS5BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,aADS,yBACKP,KADL,EACYQ,KADZ,EACmB;AAC1BZ,MAAAA,GAAG,CAACa,SAAJ,CAAcC,OAAd,GAAwBF,KAAK,CAACG,aAA9B;AACAX,MAAAA,KAAK,CAACC,MAAN,CAAaC,WAAb,GAA2B,IAA3B;AACD,KAJQ;AAKTU,IAAAA,cALS,0BAKMZ,KALN,EAKaQ,KALb,EAKoB;AAC3BA,MAAAA,KAAK;AACLR,MAAAA,KAAK,CAACC,MAAN,CAAaC,WAAb,GAA2B,KAA3B;AACD,KARQ;AASTW,IAAAA,cATS,0BASMb,KATN,EASaQ,KATb,EASoB;AAC3BM,MAAAA,OAAO,CAACC,KAAR,CAAcf,KAAd,EAAqBQ,KAArB;AACD,KAXQ;AAYT;AACAQ,IAAAA,gBAbS,4BAaQhB,KAbR,EAaeG,OAbf,EAawB;AAC/BH,MAAAA,KAAK,CAACC,MAAN,CAAaE,OAAb,GAAuBA,OAAvB;AACAH,MAAAA,KAAK,CAACK,OAAN,CAAcY,IAAd,CAAmB;AAAEC,QAAAA,YAAY,EAAE,KAAhB;AAAuBC,QAAAA,MAAM,EAAEhB,OAAO,CAACiB,IAAvC;AAA6CC,QAAAA,IAAI,EAAElB,OAAO,CAACA,OAA3D;AAAoEmB,QAAAA,IAAI,EAAE,IAAIC,IAAJ;AAA1E,OAAnB;AACD,KAhBQ;AAiBT;AACAC,IAAAA,gBAlBS,4BAkBQxB,KAlBR,EAkBeyB,KAlBf,EAkBsB;AAC7BX,MAAAA,OAAO,CAACY,IAAR,CAAa1B,KAAb,EAAoByB,KAApB;AACD,KApBQ;AAqBTE,IAAAA,sBArBS,kCAqBc3B,KArBd,EAqBqB;AAC5BA,MAAAA,KAAK,CAACC,MAAN,CAAaG,cAAb,GAA8B,IAA9B;AACD;AAvBQ,GATiB;AAkC5BwB,EAAAA,OAAO,EAAE;AACPC,IAAAA,WAAW,EAAE,qBAAUC,OAAV,EAAmB3B,OAAnB,EAA4B;AACvCP,MAAAA,GAAG,CAACa,SAAJ,CAAcC,OAAd,CAAsBqB,IAAtB,CAA2B5B,OAA3B;AACA2B,MAAAA,OAAO,CAAC9B,KAAR,CAAcK,OAAd,CAAsBY,IAAtB,CAA2B;AAAEC,QAAAA,YAAY,EAAE,IAAhB;AAAsBC,QAAAA,MAAM,EAAEhB,OAAO,CAACiB,IAAtC;AAA4CC,QAAAA,IAAI,EAAElB,OAAO,CAACA,OAA1D;AAAmEmB,QAAAA,IAAI,EAAE,IAAIC,IAAJ;AAAzE,OAA3B;AACD;AAJM;AAlCmB,CAAf,CAAf","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    socket: {\n      isConnected: false,\n      message: '',\n      reconnectError: false,\n    },\n    history: []\n  },\n  mutations: {\n    SOCKET_ONOPEN(state, event) {\n      Vue.prototype.$socket = event.currentTarget\n      state.socket.isConnected = true\n    },\n    SOCKET_ONCLOSE(state, event) {\n      event;\n      state.socket.isConnected = false\n    },\n    SOCKET_ONERROR(state, event) {\n      console.error(state, event)\n    },\n    // default handler called for all methods\n    SOCKET_ONMESSAGE(state, message) {\n      state.socket.message = message\n      state.history.push({ isOwnMessage: false, author: message.name, text: message.message, date: new Date() })\n    },\n    // mutations for reconnect methods\n    SOCKET_RECONNECT(state, count) {\n      console.info(state, count)\n    },\n    SOCKET_RECONNECT_ERROR(state) {\n      state.socket.reconnectError = true;\n    },\n  },\n  actions: {\n    sendMessage: function (context, message) {\n      Vue.prototype.$socket.send(message)\n      context.state.history.push({ isOwnMessage: true, author: message.name, text: message.message, date: new Date() })\n    }\n  }\n})\n"]}]}